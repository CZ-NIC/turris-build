# General kernel settings
CONFIG_KERNEL_AIO=y
CONFIG_KERNEL_FHANDLE=y
CONFIG_KERNEL_FANOTIFY=y
CONFIG_KERNEL_MAGIC_SYSRQ=y
CONFIG_KERNEL_PRINTK_TIME=y
CONFIG_KERNEL_KEXEC=y
CONFIG_KERNEL_DEVTMPFS=y
CONFIG_KERNEL_DEVTMPFS_MOUNT=y
CONFIG_KERNEL_RESOURCE_COUNTERS=y
CONFIG_KERNEL_MM_OWNER=y
CONFIG_KERNEL_DEVPTS_MULTIPLE_INSTANCES=y
CONFIG_KERNEL_POSIX_MQUEUE=y
CONFIG_KERNEL_MTD_SPI_NOR_USE_4K_SECTORS_LIMIT=4092
CONFIG_KERNEL_BINFMT_MISC=y
CONFIG_KERNEL_CHECKPOINT_RESTORE=y
CONFIG_KERNEL_PROC_CHILDREN=y

# Modules
CONFIG_KERNEL_MODVERSIONS=y
CONFIG_KERNEL_MODULE_FORCE_UNLOAD=y

# Include kernel configuration in /proc
CONFIG_KERNEL_IKCONFIG=y
CONFIG_KERNEL_IKCONFIG_PROC=y

# CGroups
CONFIG_KERNEL_CGROUPS=y
CONFIG_KERNEL_CGROUP_DEBUG=y
CONFIG_KERNEL_FREEZER=y
CONFIG_KERNEL_CGROUP_FREEZER=y
CONFIG_KERNEL_CGROUP_DEVICE=y
CONFIG_KERNEL_CGROUP_PIDS=y
CONFIG_KERNEL_CGROUP_CPUACCT=y
CONFIG_KERNEL_CGROUP_SCHED=y
CONFIG_KERNEL_CGROUP_BPF=y
CONFIG_KERNEL_CGROUP_RDMA=y
CONFIG_KERNEL_CGROUP_WRITEBACK=y
CONFIG_KERNEL_BLK_CGROUP=y
CONFIG_KERNEL_NET_CLS_CGROUP=y
CONFIG_KERNEL_NETPRIO_CGROUP=y
CONFIG_KERNEL_CPUSETS=y
CONFIG_KERNEL_FAIR_GROUP_SCHED=y
CONFIG_KERNEL_CFS_BANDWIDTH=y
CONFIG_KERNEL_MEMCG=y
CONFIG_KERNEL_MEMCG_SWAP=y
CONFIG_KERNEL_MEMCG_KMEM=y
CONFIG_KERNEL_PAGE_COUNTER=y
CONFIG_KERNEL_RT_GROUP_SCHED=y
CONFIG_KERNEL_SOCK_CGROUP_DATA=y

# Namespaces
CONFIG_KERNEL_NAMESPACES=y
CONFIG_KERNEL_UTS_NS=y
CONFIG_KERNEL_IPC_NS=y
CONFIG_KERNEL_USER_NS=y
CONFIG_KERNEL_PID_NS=y
CONFIG_KERNEL_NET_NS=y

# File-systems
CONFIG_KERNEL_FS_POSIX_ACL=y
CONFIG_KERNEL_BTRFS_FS=y
CONFIG_KERNEL_BTRFS_FS_POSIX_ACL=y
CONFIG_KERNEL_NFS_FS=y
CONFIG_KERNEL_NFS_V2=y
CONFIG_KERNEL_NFS_V3=y
CONFIG_KERNEL_ROOT_NFS=y
# File-sustem modules
CONFIG_PACKAGE_kmod-fs-btrfs=y
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-vfat=y
CONFIG_PACKAGE_kmod-fuse=y
CONFIG_PACKAGE_kmod-i2c-core=y
CONFIG_PACKAGE_kmod-nls-base=y
CONFIG_PACKAGE_kmod-nls-cp437=y
CONFIG_PACKAGE_kmod-nls-iso8859-1=y
CONFIG_PACKAGE_kmod-nls-utf8=y

# Wi-Fi
CONFIG_PACKAGE_kmod-ath=y
CONFIG_ATH_USER_REGD=y
CONFIG_PACKAGE_ATH_DFS=y
CONFIG_PACKAGE_kmod-ath9k=y
CONFIG_PACKAGE_kmod-ath9k-common=y
CONFIG_PACKAGE_kmod-cfg80211=y

# Firewall
CONFIG_DEFAULT_ip6tables=y
CONFIG_DEFAULT_iptables=y

# Additional netfilter targets and match rules
CONFIG_KERNEL_NETFILTER_XT_TARGET_HMARK=y
CONFIG_KERNEL_NETFILTER_XT_TARGET_TCPOPTSTRIP=y
CONFIG_KERNEL_NETFILTER_XT_MATCH_CGROUP=y
CONFIG_KERNEL_NETFILTER_XT_MATCH_IPCOMP=y
CONFIG_KERNEL_NETFILTER_XT_MATCH_L2TP=y
CONFIG_KERNEL_NETFILTER_XT_MATCH_OSF=y
CONFIG_KERNEL_NETFILTER_XT_MATCH_SCTP=y

# nftables
CONFIG_KERNEL_NFT_RT=y
CONFIG_KERNEL_NFT_SET_BITMAP=y
CONFIG_KERNEL_NFT_OBJREF=y
CONFIG_KERNEL_NFT_QUEUE=y
CONFIG_KERNEL_NFT_COMPAT=y
CONFIG_KERNEL_NFT_DUP_IPV4=y
CONFIG_KERNEL_NFT_DUP_IPV6=y

# USB
CONFIG_DEFAULT_kmod-usb-core=y
CONFIG_DEFAULT_kmod-usb-storage=y
CONFIG_DEFAULT_kmod-usb2=y
CONFIG_DEFAULT_kmod-usb2-fsl=y
CONFIG_DEFAULT_kmod-usb3=y
CONFIG_PACKAGE_kmod-usb-core=y
CONFIG_PACKAGE_kmod-usb-ehci=y
CONFIG_PACKAGE_kmod-usb-hid=y
CONFIG_PACKAGE_kmod-usb-ohci=y
CONFIG_PACKAGE_kmod-usb-storage=y
CONFIG_PACKAGE_kmod-usb-uhci=y
CONFIG_PACKAGE_kmod-usb2=y
CONFIG_PACKAGE_kmod-usb3=y

# Watchdog
CONFIG_KERNEL_WATCHDOG_PRETIMEOUT_GOV=y
CONFIG_KERNEL_WATCHDOG_PRETIMEOUT_GOV_NOOP=n
CONFIG_KERNEL_WATCHDOG_PRETIMEOUT_DEFAULT_GOV_NOOP=n
CONFIG_KERNEL_WATCHDOG_PRETIMEOUT_DEFAULT_GOV_PANIC=y
CONFIG_KERNEL_WATCHDOG_PRETIMEOUT_GOV_PANIC=y
CONFIG_KERNEL_WATCHDOG_SYSFS=y
CONFIG_KERNEL_WATCHDOG_NOWAYOUT=y

# iotop
CONFIG_KERNEL_TASKSTATS=y
CONFIG_KERNEL_TASK_DELAY_ACCT=y
CONFIG_KERNEL_TASK_IO_ACCOUNTING=y
CONFIG_KERNEL_TASK_XACCT=y
CONFIG_KERNEL_VM_EVENT_COUNTERS=y

# Sound
CONFIG_PACKAGE_kmod-sound-core=y
